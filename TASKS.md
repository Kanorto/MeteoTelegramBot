# Задачи по развитию бота

Файлы в репозитории содержат минимальный прототип телеграм‑бота. Сейчас он
умеет хранить настройки пользователей в JSON, присылать ежедневный прогноз
погоды с Open‑Meteo и короткий отчёт о магнитных бурях через X‑RAS. Многие
компоненты выполнены в упрощённом виде и требуют доработки.

Ниже перечислены улучшения и исправления, которые необходимо реализовать.

## Основные функции

- [ ] Настроить получение координат города через геокодер (например, Nominatim или Яндекс)
- [ ] Реализовать поддержку нескольких погодных API (Open‑Meteo, Yandex и др.) и дать пользователю выбирать источник
- [ ] Добавить хранение данных пользователей в базе (город, время уведомления, источник погоды, регион магнитных бурь)
- [ ] Исправить повторное планирование задач в `Scheduler` — при изменении времени старые задания должны удаляться
- [ ] Поддержать временное отключение уведомлений по кнопке под сообщениями
- [ ] Реализовать отключение уведомлений на заданный период (кнопка «отключить» под сообщениями)
- [ ] Улучшить обработку сетевых ошибок и информировать пользователя о сбоях
- [ ] Добавить отправку месячного прогноза магнитных бурь с X‑RAS
- [x] Поддержать выбор региона для прогноза магнитных бурь

## Улучшения

- [ ] Сделать настраиваемый порог Kp для уведомлений о магнитных бурях
- [ ] Позволить пользователю выбирать, какие параметры погоды присылать (температура, ощущаемая температура, осадки и т.д.)
- [ ] Добавить команду или плановое сообщение с прогнозом на следующий день
- [ ] Отправлять краткую статистику за прошедший день вместе с прогнозом
- [ ] Поддержать режим «Не беспокоить» — временное отключение всех уведомлений
- [ ] Реализовать полноценный выбор часовых поясов для корректного планирования
- [ ] Загрузить список регионов X‑RAS при старте бота и кэшировать его
- [ ] Добавить форматирование сообщений с помощью markdown
